<ion-header>
  <ion-toolbar>
    <ion-buttons slot="start">
      <ion-menu-button></ion-menu-button>
    </ion-buttons>
    <ion-title>{{ isEdit ? 'Editar Usuario' : 'Nuevo Usuario' }}</ion-title>
  </ion-toolbar>
</ion-header>

<!-- <div class="breadcrumb">
  <ion-icon name="home-outline" color="gray"></ion-icon>
  <span>/</span>
  <span>Usuarios</span>
  <span>/</span>
  <span class="breadcrumb-current">{{ isEdit ? 'Editar' : 'Crear' }}</span>
</div> -->

<ion-content>
  <div class="page-container">
    <div class="header">
      <h1>{{ isEdit ? 'Editar Usuario' : 'Nuevo Usuario' }}</h1>
    </div>

    <form [formGroup]="usuarioForm" (ngSubmit)="guardar()" class="form-container">
      <div class="form-section">
        <h2>Información Personal</h2>

        <ion-item *ngIf="isEdit">
          <ion-label position="stacked">Codigo</ion-label>
          <ion-input formControlName="code" type="text" placeholder="Codigo de usuario"></ion-input>
        </ion-item>

        <ion-item>
          <ion-label position="stacked">Nombre</ion-label>
          <ion-input formControlName="name" type="text" placeholder="Nombre completo"></ion-input>
        </ion-item>

        <ion-item>
          <ion-label position="stacked">Email</ion-label>
          <ion-input formControlName="email" type="email" placeholder="email@ejemplo.com"></ion-input>
        </ion-item>

        <ion-item>
          <ion-label position="stacked">Teléfono</ion-label>
          <ion-input formControlName="phone" type="tel" placeholder="Número de teléfono"></ion-input>
        </ion-item>
      </div>

      <div class="form-section">
        <h2>Configuración de Cuenta</h2>
        <ion-item>
          <ion-label position="stacked">Rol</ion-label>
          <ion-select formControlName="role" placeholder="Seleccione un rol">
            <ion-select-option value="WORKER">Trabajador</ion-select-option>
            <ion-select-option value="ADMIN">Administrador</ion-select-option>
          </ion-select>
        </ion-item>

        <ion-item>
          <ion-label>Junior</ion-label>
          <ion-toggle formControlName="junior"></ion-toggle>
        </ion-item>

        <ion-item *ngIf="!isEdit">
          <ion-label position="stacked">Contraseña</ion-label>
          <ion-input formControlName="password" type="password" placeholder="Contraseña segura"></ion-input>
        </ion-item>
      </div>

      <div class="form-actions">
        <ion-button expand="block" type="submit" [disabled]="usuarioForm.invalid">
          {{ isEdit ? 'Actualizar' : 'Crear' }}
        </ion-button>
        <ion-button expand="block" fill="outline" (click)="cancelar()">
          Cancelar
        </ion-button>
      </div>
    </form>
  </div>
</ion-content>
