<ion-header>
  <ion-toolbar>
    <ion-buttons slot="start">
      <ion-menu-button></ion-menu-button>
    </ion-buttons>
    <ion-title>{{ isEdit ? 'Editar Herramienta' : 'Nueva Herramienta' }}</ion-title>
  </ion-toolbar>
</ion-header>

<!-- <div class="breadcrumb">
  <ion-icon name="home-outline" color="gray"></ion-icon>
  <span>/</span>
  <span>Herramientas</span>
  <span>/</span>
  <span class="breadcrumb-current">{{ isEdit ? 'Editar' : 'Crear' }}</span>
</div> -->

<ion-content>
  <div class="page-container">
    <div class="header">
      <h1>{{ isEdit ? 'Editar Herramienta' : 'Nueva Herramienta' }}</h1>
    </div>

    <form [formGroup]="herramientaForm" (ngSubmit)="guardar()" class="form-container">
      <div class="form-section">
        <h2>Información de la Herramienta</h2>
        <ion-item>
          <ion-label position="stacked">Nombre</ion-label>
          <ion-input formControlName="name" placeholder="Nombre de la herramienta"></ion-input>
        </ion-item>

        <ion-item>
          <ion-label position="stacked">Código</ion-label>
          <ion-input formControlName="code" placeholder="Código identificativo"></ion-input>
        </ion-item>

        <ion-item class="description-field">
          <ion-label position="stacked">Descripción</ion-label>
          <ion-textarea 
            formControlName="description" 
            placeholder="Descripción detallada de la herramienta"
            rows="4">
          </ion-textarea>
        </ion-item>

        <ion-item>
          <ion-label position="stacked">Fecha del Último Mantenimiento</ion-label>
          <ion-datetime 
            formControlName="fechaUltimoMantenimiento"
            display-format="yyyy-MM-dd"
            picker-format="yyyy-MM-dd"
            [max]="maxDate"
            placeholder="Seleccione fecha del último mantenimiento">
          </ion-datetime>
        </ion-item>

        <ion-item>
          <ion-label position="stacked">Color</ion-label>
          <ion-input formControlName="color" placeholder="Ej: rojo, azul, verde"></ion-input>
        </ion-item>

        <ion-item>
          <ion-label position="stacked">Categoría</ion-label>
          <ion-select formControlName="categoria" placeholder="Seleccione una categoría">
            <ion-select-option *ngFor="let category of categorias" [value]="category.value">
              {{ category.label }}
            </ion-select-option>
          </ion-select>
        </ion-item>
      </div>

      <div class="form-actions">
        <ion-button expand="block" type="submit" [disabled]="herramientaForm.invalid">
          {{ isEdit ? 'Actualizar' : 'Crear' }}
        </ion-button>
        <ion-button expand="block" fill="outline" (click)="cancelar()">
          Cancelar
        </ion-button>
      </div>
    </form>
  </div>
</ion-content>
